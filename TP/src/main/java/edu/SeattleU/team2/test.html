<!DOCTYPE html>
<html>
<style>
    th,td {
        padding: 5px;
    }
</style>
<body>

<h2>Address Search</h2>

<form action="">

    <!--
    <select name="country" id="country" onchange="showCustomer(this.value)">
        <option value="United States">United States</option>
        <option value="Australia">Australia</option>
        <option value="Germany">Germany</option>
        <option value="Mexico">Mexico</option>
        <option value="China">China</option>
        <option value="Spain">Spain</option>
        <option value="France">France</option>
        <option value="Canada">Canada</option>
        <option value="United Kingdom">United Kingdom</option>
        <option value="New Zealand">New Zealand</option>

    </select>
    -->
    <input type="text" id="country" name="country" value="" placeholder="country" onKeyPress="showCustomer(this.value)">
    </br></br>
    <input type="text" id="name" name="name" value="" placeholder="Full Name" onKeyPress="showCustomer(this.value)">
    </br></br>
    <input type="text" id="streetNumber" name="address" value="" placeholder="street Number" onKeyPress="showCustomer(this.value)">
    </br></br>
    <input type="text" id="address" name="address" value="" placeholder="Address" onKeyPress="showCustomer(this.value)">
    </br></br>
    <input type="text" id="code" name="code" value="" placeholder="Postal Code/Zip code" onKeyPress="showCustomer(this.value)">
    </br></br>
    <input type="text" id="city" name="city" value="" placeholder="City /Town/Locality" onKeyPress="showCustomer(this.value)">
    </br></br>
    <input type="text" id="state" name="state" value="" placeholder="State/Province" onKeyPress="showCustomer(this.value)">

</form>
<br>
<div id="txtHint">Customer info will be listed here...</div>

<script>
    function showCustomer(str) {
        const country = document.getElementById("country").value;
        const name = document.getElementById("name").value;
        const streetNumber = document.getElementById("streetNumber").value;
        const address = document.getElementById("address").value;
        const code = document.getElementById("code").value;
        const city = document.getElementById("city").value;
        const state = document.getElementById("state").value;
        if (str == "") {
            document.getElementById("txtHint").innerHTML = "";
            return;
        }
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function() {
            document.getElementById("txtHint").innerHTML = this.responseText;
        }
        xhttp.open("GET", "http://127.0.0.1:8080/TP-1.0-SNAPSHOT/api/addresses?&country="+country+"&name="+name+"&streetNumber="+streetNumber+"&zipcode="+address+"&zipcode="+code+"&city="+city+"&state="+state);
        xhttp.send();
    }

</script>
</body>
</html>
